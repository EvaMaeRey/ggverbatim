---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# ggverbatim

<!-- badges: start -->
<!-- badges: end -->

The goal of ggverbatim is to ...

## Installation

You can install the released version of ggverbatim from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("ggverbatim")
```

And the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("EvaMaeRey/ggverbatim")
```
## Example

This is a basic example which shows you how to solve a common problem:

```{r example}
# library(ggverbatim)
library(tidyverse)
library(magrittr)

Titanic %>% 
  data.frame() %>% 
  tibble() %>% 
  uncount(Freq) %>% 
  count(Survived, Sex) %>% 
  pivot_wider(names_from = Sex, values_from = n) ->
vis_arrangement

vis_arrangement
```

What is special about using `README.Rmd` instead of just `README.md`? You can include R chunks like so:

```{r cars}
vis_arrangement %>% 
  pivot_longer(cols = -1) %>% 
ggplot() + 
  aes(x = name) + 
  labs(x = "Sex") + 
  aes(y = Survived) + 
  aes(label = value) + 
  aes(fill = value) + 
  geom_tile() + 
  geom_text() + 
  scale_x_discrete(position = "top") + 
  scale_y_discrete(limits=rev)


# so

ggverbatim <- function(data, rows_var = NULL, cols_var_name = "x"){
  
data %>% 
  pivot_longer(cols = -1) %>% 
ggplot() + 
  aes(x = name) + 
  labs(x = cols_var_name) + 
  aes(y = {{rows_var}}) + 
  aes(label = value) + 
  aes(fill = value) + 
  scale_x_discrete(position = "top") + 
  scale_y_discrete(limits=rev)
  
}

vis_arrangement %>% 
  ggverbatim(rows_var = Survived) + 
  geom_text() + 
  geom_tile(alpha = .2) +
  labs(x = "Sex")

```
